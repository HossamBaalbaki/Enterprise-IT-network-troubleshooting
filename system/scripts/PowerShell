<#
.SYNOPSIS
Checks network connectivity for critical servers and logs results
#>

# Define servers to ping
$servers = @("192.168.10.1","192.168.10.10","8.8.8.8")

# Log file
$logFile = "C:\NetworkDiagnostics\log.txt"
if (!(Test-Path "C:\NetworkDiagnostics")) {
    New-Item -ItemType Directory -Path "C:\NetworkDiagnostics"
}

# Run diagnostics
foreach ($server in $servers) {
    $ping = Test-Connection -ComputerName $server -Count 2 -Quiet
    $status = if ($ping) {"Online"} else {"Offline"}
    $entry = "$(Get-Date) - $server is $status"
    Write-Output $entry
    Add-Content -Path $logFile -Value $entry
}

Write-Output "Network Diagnostics Completed. Log saved to $logFile"
